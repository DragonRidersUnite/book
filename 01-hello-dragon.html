<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hello, Dragon! - Building Games with DragonRuby</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="01-hello-dragon.html" class="active"><strong aria-hidden="true">1.</strong> Hello, Dragon!</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Drawing Shapes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Ruby Primer</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Drawing Sprites</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Handling Input</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Moving the Player</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Firing Bullets</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Animations</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Enemies</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Refactor Break!</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Life &amp; Death</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> Basic AI</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> Waves of Enemies</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> Bullet Patterns</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Scenes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Boss Fight</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.</strong> Juice</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">17.1.</strong> Sound Effects</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.2.</strong> Music</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.3.</strong> Screenshake</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.4.</strong> Menus</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">18.</strong> Ship Your Game</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">19.</strong> What Next</div></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Building Games with DragonRuby</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="hello-dragon"><a class="header" href="#hello-dragon">Hello, Dragon!</a></h1>
<p>We'll start by rendering an image and some simple text on the screen. But first, we need to get our computer and DragonRuby Game Toolkit ready for developing.</p>
<h2 id="first-steps"><a class="header" href="#first-steps">First Steps</a></h2>
<ol>
<li><strong>Download a code editor:</strong> Since you'll be coding your game, you need a special text editor to let you write the code without any extra formatting that text editors like Microsoft Word add. <a href="https://code.visualstudio.com/">Visual Studio Code</a> is a great free editor. Downloa and install it.</li>
<li><strong>Get DragonRuby GTK:</strong> You need to get a copy of DragonRuby GTK so you can use the engine. <a href="https://dragonruby.itch.io/dragonruby-gtk/purchase">Buy it on Itch and download the zip file for your operating system.</a></li>
<li><strong>Extract the DRGTK engine zip</strong>: In your computer's file explorer, extract the engine zip file.</li>
</ol>
<p>You're ready to work on your game. Let's get to it!</p>
<p>PROTIP: don't delete the zip file! You can unzip it again for when you start working on your next game. It's helpful to keep it around.</p>
<h2 id="whats-in-the-engine-zip"><a class="header" href="#whats-in-the-engine-zip">What's in the Engine Zip</a></h2>
<p>When you download DragonRuby Game Toolkit, it contains everything you need to build your game. There's no external dependencies to install or monkey with. You just use the provided files and start making your game.</p>
<p>Let's go over the key files in the archive you just extracted:</p>
<ul>
<li><code>dragonruby</code> â€” the executable you'll run to launch your game in development mode, you're primary entry into the development flow</li>
<li><code>dragonruby-publish</code> â€” a command-line tool to help you easily build and publish your game online, don't worry about this yet!</li>
<li><code>samples/</code> â€” a folder of example code that you can run if you'd like, or just ignore it for now</li>
<li><code>docs/</code> â€” the DragonRuby Game Toolkit docs for the version you've downloaded, extremely handy if you want to dive deeper than this book</li>
<li><code>mygame/</code> ðŸŒŸ â€” as the name implies, this is where the code, graphics, sound, and other assets live for your game; this is the primary folder you'll be working in
<ul>
<li><code>app/</code> â€” this is where your Ruby code goes
<ul>
<li><code>main.rb</code> â€” this is the main file for your game code, don't worry about the other two yet</li>
</ul>
</li>
<li><code>data/</code> â€” where you can put any data for your game, like level editor files</li>
<li><code>fonts/</code> â€” where fonts go, duh!</li>
<li><code>metadata/</code> â€” configuration files for your game, we'll do more here later</li>
<li><code>sounds/</code> â€” where music and sound effects go</li>
<li><code>sprites/</code> â€” where images go that will be rendered in the game</li>
</ul>
</li>
</ul>
<p>Don't worry about the other files yet. Focus on the <code>mygame/</code> directory, and, specifically, <code>mygame/app/main.rb</code>.</p>
<h2 id="start-the-game"><a class="header" href="#start-the-game">Start the Game</a></h2>
<p>Launch the <code>dragonruby</code> file.</p>
<p>If you're on MacOS, right-click the file and select &quot;Open&quot;. You'll need to ensure software from unverified sources can be installed.</p>
<p>Here's what gets displayed:</p>
<p><img src="./img/hello-world.webp" alt="screenshot of the Hello World! for DragonRuby GTK" /></p>
<p>This isn't a game... yet! But it is doing three key things:</p>
<ol>
<li>Launching an app window</li>
<li>Rendering text</li>
<li>Displaying an image</li>
</ol>
<p>And you haven't even written any code yet. Not a bad starting place.</p>
<p>DRGTK handles the unfun stuff of making gamesâ€”dealing with low-level APIs like graphics, window, and sounds. We can instead focus on making our game.</p>
<h2 id="an-overview-of-the-main-game-file"><a class="header" href="#an-overview-of-the-main-game-file">An Overview of the Main Game File</a></h2>
<p>Let's take a look at what's in <code>mygame/app/main.rb</code>:</p>
<pre><code class="language-ruby">def tick args
  args.outputs.labels  &lt;&lt; [640, 500, 'Hello World!', 5, 1]
  args.outputs.labels  &lt;&lt; [640, 460, 'Go to docs/docs.html and read it!', 5, 1]
  args.outputs.labels  &lt;&lt; [640, 420, 'Join the Discord! https://discord.dragonruby.org', 5, 1]
  args.outputs.sprites &lt;&lt; [576, 280, 128, 101, 'dragonruby.png']
end
</code></pre>
<p>You can open this file yourself in Visual Studio Code. Go ahead and do that: New Window &gt; Open &gt; [select the folder on your computer with the engine in it]</p>
<p>Six lines of codes to render text and an image? Not bad! (Trust me, if you did this all from scratch without an engine, it'd take at least hundreds of lines of code.)</p>
<p>Here's what that code does, line by line:</p>
<pre><code class="language-ruby">def tick args
</code></pre>
<p>This <code>def</code>ines method called <code>tick</code> and passes in an argument called <code>args</code>. Methods are reusable pieces of code that you can call to do something over and over again. Methods are a foundational building block of code that allow for code reuse. <code>args</code> is a bunch of data that gets passed into <code>tick</code> whenver it is called. We'll learn more about <code>args</code> soon.</p>
<p>The next three lines handle outputting text to the screen:</p>
<pre><code class="language-ruby">args.outputs.labels  &lt;&lt; [640, 500, 'Hello World!', 5, 1]
args.outputs.labels  &lt;&lt; [640, 460, 'Go to docs/docs.html and read it!', 5, 1]
args.outputs.labels  &lt;&lt; [640, 420, 'Join the Discord! https://discord.dragonruby.org', 5, 1]
</code></pre>
<p>Your eyes might be melting a little bit. But don't worry, wipe that melted bit of eye away and focus! It's actually pretty intuitive once you get the hang of it.</p>
<p>Remember <code>args</code> from above? That parameter that's passed into <code>tick</code>? Well, you can call methods on it! This allows you to interact with the game engine.</p>
<p><code>args</code> has a method called <code>outputs</code> that represents the data that gets rendered in the screen. You access it with <code>args.outputs</code>. Neato! <code>labels</code> is method on the <code>outputs</code>, see how the <code>.</code> chains things together?</p>
<p>The <code>&lt;&lt;</code> is called the shovel operator. It lets you push data into a collection. <code>labels</code> is the collection we're shoveling data into because we want to render some text.</p>
<p>And then finally the code within the brackets <code>[]</code> is an array of data that represents what we want to display on the screen. It may not be clear exactly what it's doing yet, but it'll become more clear over time.</p>
<p>[array illustration]</p>
<p>You can see some code in quotes, those are strings. And they're what's being displayed by the game. In order to show the text, though, we need to tell the engine where to place it on the screen. That's what the first two elements of the array do: they specify the x and y position in of the text in the game. Then there's the text we want to render. That's followed by the size. Then finally the alignment (centered in this case).</p>
<p>Here's it broken down:</p>
<pre><code class="language-ruby">#  x,   y,           text, size, alignment
[640, 500, 'Hello World!',    5,         1]
</code></pre>
<p>Don't worry about memorizing what the positional elements of the array mean. This is just a quick way to render text. We'll start using a more friendly approach soon enough.</p>
<p>Gosh enough of this rambling, let's adjust some code. Change the text from &quot;Hello World!&quot; to be &quot;Hello Dragon!&quot; and save the file.</p>
<p>Did you see that? The game reloaded your code and changed the text to be &quot;Hello Dragon!&quot; That was quick, wasn't it? That's one of the best parts of DRGTKâ€”live reloading of your game code in the engine. This allows you to make changes to your game quickly, reducing the time between the cycles of writing your code and testing it.</p>
<h2 id="screen-coordinates-explained"><a class="header" href="#screen-coordinates-explained">Screen Coordinates Explained</a></h2>
<p>[coordinates]</p>
<ul>
<li>pixels</li>
<li>x,y drawing</li>
<li>difference from other engines</li>
</ul>
<h2 id="game-loop-explained"><a class="header" href="#game-loop-explained">Game Loop Explained</a></h2>
<p>[drawing of the game loop and why it matters]</p>
<p>The <code>tick</code> method is called 60 times every second.</p>
<h2 id="our-own-hello"><a class="header" href="#our-own-hello">Our Own Hello</a></h2>
<p>[delete the code]
[hand-write it, don't copy it illustration]
[define a method]</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
